<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>테마 보기 - 제주 옵서예</title>
    <link rel="stylesheet" th:href="@{/css/common.css}">
    <link rel="stylesheet" th:href="@{/css/place-list.css}">
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=a719a90ac54806d1be701efc6e0060de"></script>
</head>
<body>
<div class="wtj-theme-place-container">
    <div class="wtj-menu-container">
        <a th:if="${#authentication.name == 'anonymousUser'}" href="/me/login" class="wtj-menu">로그인</a>
        <span th:if="${#authentication.name != 'anonymousUser' and isUpdate != 0}" onclick="searchPlaces();" class="wtj-menu">추가할 장소 검색하기</span>
        <span onclick="history.back()" class="wtj-menu">뒤로가기</span>
    </div>
    <div class="wtj-theme-container">
        <div>[[${theme.emoji}]]</div>
        <div>[[${theme.title}]]</div>
        <div>[[${theme.userNickname}]]</div>
    </div>
    <div class="wtj-place-list-container">
        <ul class="wtj-place-list">
            <li>
                <a th:href="@{/themes/get(no=${theme.no})}" class="wtj-place">
                    <div>
                        <div>[[${theme.emoji}]]</div>
                        <div>[[${theme.title}]]</div>
                        <div>[[${theme.userNickname}]]</div>
                    </div>
                </a>
            </li>
        </ul>
    </div>
</div>

<div id="map"></div>

<form id="searchForm" action="/search/place" method="post" style="display: none;">
    <input th:value="${theme.no}" type="hidden" id="themeNo" name="themeNo">
</form>

<script>
    function searchPlaces() {
        document.getElementById('searchForm').submit();
    }

    var container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스
    var options = { //지도를 생성할 때 필요한 기본 옵션
        center: new kakao.maps.LatLng(33.450701, 126.570667), //지도의 중심좌표.
        level: 10 //지도의 레벨(확대, 축소 정도)
    };

    var map = new kakao.maps.Map(container, options); //지도 생성 및 객체 리턴
</script>
</body>
</html>
